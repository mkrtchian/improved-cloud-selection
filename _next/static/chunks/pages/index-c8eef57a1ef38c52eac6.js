(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1129:function(n,e,r){"use strict";r.r(e),r.d(e,{__N_SSG:function(){return O},default:function(){return I}});var t=r(7294),o=r(9008),i=r(7879),c=r.n(i),u=r(5893);var a=function(n){var e=n.setSelectedProvider;return(0,u.jsx)("ul",{className:c().list,children:[{name:"Amazon Web Services",src:"/images/aws_logo.svg"},{name:"Google Cloud Platform",src:"/images/gcp_logo.svg"},{name:"Microsoft Azure",src:"/images/azure_logo.svg"},{name:"DigitalOcean",src:"/images/digital_ocean_logo.svg"},{name:"UpCloud",src:"/images/upcloud_logo.svg"}].map((function(n){return(0,u.jsx)("li",{children:(0,u.jsxs)("button",{className:c().button,onClick:function(){return r=n.name,void e(r);var r},children:[(0,u.jsx)("img",{src:"".concat("/improved-cloud-selection").concat(n.src),alt:n.name,className:c().image}),(0,u.jsx)("span",{className:c().name,children:n.name})]})},n.name)}))})},s=r(4476),l=r.n(s),d=r(3330),f=r.n(d);var m=function(n){var e=n.organizedRegions,r=n.setSelectedRegion,o=(0,t.useMemo)((function(){return Object.keys(e).slice().sort()}),[e]);return(0,t.useEffect)((function(){o&&o.length>0&&r(o[0])}),[o]),(0,u.jsx)("ul",{className:f().list,children:o.map((function(n){return(0,u.jsx)("li",{children:(0,u.jsx)("button",{onClick:function(){r(n)},children:n})},n)}))})},v=r(9669),_=r.n(v),g=r(2503),p={clouds:"".concat("https://damp-fortress-19341.herokuapp.com","/clouds"),locationByIP:"".concat("https://damp-fortress-19341.herokuapp.com","/geo-coordinates")};function h(n){return _().get(n).then((function(n){return n.data}))}var j=function(n){var e=(0,g.ZP)(p.clouds,h,{fallbackData:n}),r=e.data,t=e.error;return{clouds:r?r.clouds:[],isCloudsLoading:!t&&!r,isCloudsError:Boolean(t)}};var x=function(n){(0,t.useEffect)((function(){_().get(p.locationByIP).then((function(e){var r;e&&(function(n){return null!==n&&"object"===typeof n&&"data"in n}(r=e)&&"number"===typeof r.data.longitude&&"number"===typeof r.data.latitude)&&n(e.data)})).catch((function(){}))}),[])},y=r(7698);function b(n,e){var r="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,e){if(!n)return;if("string"===typeof n)return C(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(n,e)}(n))||e&&n&&"number"===typeof n.length){r&&(n=r);var t=0,o=function(){};return{s:o,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return c=n.done,n},e:function(n){u=!0,i=n},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function C(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var N=function(n,e){var r=j(n).clouds;return(0,t.useMemo)((function(){var n,t={},o=b(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.cloud_provider in t||(t[i.cloud_provider]={}),i.cloud_region in t[i.cloud_provider]||(t[i.cloud_provider][i.cloud_region]=[]),t[i.cloud_provider][i.cloud_region].push(i)}}catch(a){o.e(a)}finally{o.f()}if(e)for(var c in t)for(var u in t[c])t[c][u]=(0,y.orderByDistance)(e,t[c][u]);return t}),[r,e])},S=r(3484),P=r.n(S);var k=function(n){var e=n.cloud;return(0,u.jsxs)("li",{className:P().cloud,children:[(0,u.jsx)("div",{children:e.cloud_name}),(0,u.jsx)("div",{children:e.cloud_description})]},e.cloud_name)},w=r(4452),E=r.n(w);var A=function(n){var e=n.cloudsList,r=(0,t.useMemo)((function(){return e.slice().sort()}),[e]);return(0,u.jsx)("ul",{className:E().cloudlist,children:r.map((function(n){return(0,u.jsx)(k,{cloud:n},n.cloud_name)}))})};var O=!0,I=function(n){var e=n.cloudsObject,r=(0,t.useState)("Google Cloud Platform"),i=r[0],c=r[1],s=(0,t.useState)("Europe"),d=s[0],f=s[1],v=(0,t.useState)(),_=v[0],g=v[1];x(g);var p=N(e,_),h=i in p,j=h&&d in p[i];return(0,u.jsxs)("div",{className:l().container,children:[(0,u.jsx)(o.default,{children:(0,u.jsx)("title",{children:"Improved cloud selection"})}),(0,u.jsxs)("main",{role:"main",children:[(0,u.jsx)("h1",{className:"title",children:"Enhanced cloud selection"}),(0,u.jsx)(a,{setSelectedProvider:c}),h&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m,{organizedRegions:p[i],setSelectedRegion:f}),j&&(0,u.jsx)(A,{cloudsList:p[i][d]})]})]})]})}},5301:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1129)}])},3484:function(n){n.exports={cloud:"Cloud_cloud__16V6k"}},4452:function(n){n.exports={cloudlist:"CloudList_cloudlist__1pTRd"}},7879:function(n){n.exports={button:"CloudProviders_button__1rk1-",image:"CloudProviders_image__398_s",name:"CloudProviders_name__37vH3",list:"CloudProviders_list__2p35c"}},3330:function(n){n.exports={list:"RegionsList_list__2VfaV"}},4476:function(n){n.exports={container:"Home_container__1EcsU"}}},function(n){n.O(0,[280,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);